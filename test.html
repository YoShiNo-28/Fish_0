<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>èµ„æºæ’ç­ä¸€è§ˆ - åŸå‹</title>
  <style>
    :root {
      --bg: #f5f7fa;
      --card-bg: #ffffff;
      --border: #e0e4eb;
      --border-soft: #edf0f5;
      --primary: #2563eb;
      --primary-soft: #e3edff;
      --primary-dark: #1d4ed8;
      --text-main: #111827;
      --text-sub: #6b7280;
      --text-light: #9ca3af;
      --danger: #dc2626;
      --radius-card: 12px;
      --radius-pill: 999px;
      --shadow-soft: 0 10px 30px rgba(15, 23, 42, 0.10);
    }
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "PingFang SC",
        "Microsoft YaHei", sans-serif;
    }
    body {
      margin: 0;
      background: var(--bg);
      color: var(--text-main);
    }
    .page {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      padding: 24px;
      gap: 16px;
    }
    .page-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .page-title {
      font-size: 22px;
      font-weight: 600;
    }
    .page-subtitle {
      font-size: 12px;
      color: var(--text-sub);
      margin-top: 4px;
    }

    .toolbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      background: var(--card-bg);
      padding: 12px 16px;
      border-radius: var(--radius-card);
      border: 1px solid var(--border-soft);
      box-shadow: 0 4px 10px rgba(15, 23, 42, 0.02);
    }
    .toolbar-left,
    .toolbar-right {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }
    .field-label {
      font-size: 13px;
      color: var(--text-sub);
      margin-right: 4px;
    }
    .input,
    .select,
    .button {
      font-size: 13px;
      padding: 6px 10px;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: #fff;
      color: var(--text-main);
      outline: none;
    }
    .input:focus,
    .select:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.15);
    }
    .button {
      cursor: pointer;
      border-radius: var(--radius-pill);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
    }
    .button-primary {
      background: var(--primary);
      color: #fff;
      border-color: var(--primary);
    }
    .button-primary:hover {
      background: var(--primary-dark);
    }
    .button-soft {
      background: #fff;
      border-color: var(--border);
      color: var(--text-sub);
    }
    .button-soft:hover {
      border-color: var(--primary);
      color: var(--primary-dark);
    }
    .button-ghost {
      background: transparent;
      border-color: transparent;
      color: var(--text-sub);
    }
    .button-ghost:hover {
      background: #e5e7eb;
    }
    .segmented {
      display: inline-flex;
      border-radius: var(--radius-pill);
      border: 1px solid var(--border);
      overflow: hidden;
      background: #f9fafb;
    }
    .segmented button {
      border: none;
      padding: 6px 10px;
      font-size: 12px;
      background: transparent;
      cursor: pointer;
      color: var(--text-sub);
      min-width: 68px;
    }
    .segmented button.active {
      background: #fff;
      color: var(--primary-dark);
      font-weight: 500;
      box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.1);
    }

    .switch {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
      color: var(--text-sub);
      cursor: pointer;
    }
    .switch-track {
      width: 32px;
      height: 18px;
      border-radius: 999px;
      background: #e5e7eb;
      padding: 2px;
      box-sizing: border-box;
      transition: background 0.2s;
    }
    .switch-thumb {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: #fff;
      transition: transform 0.2s;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
    }
    .switch.on .switch-track {
      background: var(--primary);
    }
    .switch.on .switch-thumb {
      transform: translateX(14px);
    }

    .layout {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 16px;
      position: relative;
    }

    .card {
      background: var(--card-bg);
      border-radius: var(--radius-card);
      border: 1px solid var(--border-soft);
      padding: 12px;
      box-shadow: 0 8px 24px rgba(15, 23, 42, 0.03);
      overflow: hidden;
    }

    .schedule-table-wrapper {
      overflow: auto;
      max-height: calc(100vh - 170px);
    }
    table {
      border-collapse: collapse;
      width: 100%;
      min-width: 900px;
      font-size: 13px;
    }
    thead {
      background: #f9fafb;
      position: sticky;
      top: 0;
      z-index: 1;
    }
    th,
    td {
      border-bottom: 1px solid var(--border-soft);
      padding: 8px 10px;
      text-align: left;
      vertical-align: top;
      white-space: nowrap;
    }
    th {
      font-weight: 500;
      color: var(--text-sub);
    }
    tbody tr:hover td {
      background: #f9fafb;
    }
    .col-resource,
    .col-template {
      position: sticky;
      left: 0;
      background: #fff;
      z-index: 1;
    }
    .col-template {
      left: 140px;
      border-left: 1px solid var(--border-soft);
    }
    .resource-name {
      font-weight: 500;
    }
    .template-pill {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 8px;
      border-radius: var(--radius-pill);
      border: 1px solid var(--border-soft);
      background: #f9fafb;
      font-size: 12px;
      cursor: pointer;
    }
    .template-pill span {
      max-width: 120px;
      text-overflow: ellipsis;
      overflow: hidden;
    }
    .template-pill:hover {
      border-color: var(--primary);
      background: var(--primary-soft);
      color: var(--primary-dark);
    }
    .chip {
      display: inline-flex;
      align-items: center;
      padding: 2px 6px;
      border-radius: var(--radius-pill);
      background: #eef2ff;
      color: #4338ca;
      font-size: 11px;
      margin: 1px 2px 1px 0;
    }
    .chip-muted {
      background: #f3f4f6;
      color: #4b5563;
    }
    .chip-outline {
      background: #fff;
      border: 1px solid #e5e7eb;
      color: #4b5563;
    }
    .chip-exception {
      background: #fef2f2;
      color: #b91c1c;
    }
    .cell-schedule {
      cursor: pointer;
      min-width: 120px;
    }
    .cell-schedule .hint {
      font-size: 11px;
      color: var(--text-light);
      margin-top: 2px;
    }
    .row-actions {
      text-align: right;
    }

    /* Drawer & Modals */
    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.24);
      display: none;
      z-index: 20;
    }
    .overlay.show {
      display: block;
    }

    .drawer {
      position: fixed;
      top: 0;
      right: -420px;
      width: 420px;
      height: 100vh;
      background: #ffffff;
      box-shadow: -10px 0 30px rgba(15, 23, 42, 0.20);
      transition: right 0.25s ease;
      z-index: 30;
      display: flex;
      flex-direction: column;
    }
    .drawer.show {
      right: 0;
    }
    .drawer-header {
      padding: 16px 20px;
      border-bottom: 1px solid var(--border-soft);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .drawer-title {
      font-size: 16px;
      font-weight: 600;
    }
    .drawer-body {
      padding: 16px 20px 80px;
      flex: 1;
      overflow: auto;
    }
    .drawer-footer {
      position: sticky;
      bottom: 0;
      padding: 12px 20px;
      border-top: 1px solid var(--border-soft);
      background: #fff;
      display: flex;
      justify-content: flex-end;
      gap: 8px;
    }
    .form-grid {
      display: grid;
      grid-template-columns: 80px 1fr;
      gap: 10px 8px;
      font-size: 13px;
      margin-bottom: 16px;
    }
    .form-label {
      text-align: right;
      color: var(--text-sub);
      padding-top: 6px;
    }
    .form-control {
      width: 100%;
    }

    .section-title {
      font-size: 13px;
      font-weight: 600;
      margin: 12px 0 6px;
    }
    .section-sub {
      font-size: 11px;
      color: var(--text-sub);
      margin-bottom: 6px;
    }

    .time-slice-list {
      border-radius: 8px;
      border: 1px solid var(--border-soft);
      background: #f9fafb;
      padding: 8px;
      max-height: 230px;
      overflow: auto;
    }
    .slice-row {
      display: grid;
      grid-template-columns: 80px 1fr 1fr 32px;
      gap: 4px;
      align-items: center;
      margin-bottom: 4px;
      background: #fff;
      border-radius: 6px;
      padding: 4px;
      border: 1px solid var(--border-soft);
    }
    .slice-name {
      font-size: 12px;
      font-weight: 500;
    }
    .slice-meta {
      font-size: 11px;
      color: var(--text-sub);
    }
    .slice-tag {
      font-size: 11px;
      border-radius: var(--radius-pill);
      padding: 1px 6px;
      background: #ecfeff;
      color: #0891b2;
      margin-top: 2px;
      display: inline-block;
    }
    .slice-tag-template {
      background: #eef2ff;
      color: #4f46e5;
    }

    .text-muted {
      color: var(--text-sub);
      font-size: 12px;
    }

    .icon-btn {
      width: 24px;
      height: 24px;
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      background: #fff;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 14px;
      color: var(--text-sub);
    }
    .icon-btn:hover {
      border-color: var(--primary);
      color: var(--primary-dark);
    }

    .exception-list {
      border-radius: 8px;
      border: 1px dashed #e5e7eb;
      padding: 8px;
      background: #f9fafb;
      max-height: 180px;
      overflow: auto;
    }
    .exception-row {
      display: grid;
      grid-template-columns: 80px 1fr 24px;
      gap: 4px;
      align-items: center;
      margin-bottom: 4px;
      background: #fff;
      border-radius: 6px;
      padding: 4px;
      border: 1px solid var(--border-soft);
      font-size: 12px;
    }
    .exception-product {
      font-weight: 500;
    }
    .exception-time {
      font-size: 11px;
      color: var(--text-sub);
    }

    /* Centered modal */
    .modal {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 40;
    }
    .modal.show {
      display: flex;
    }
    .modal-card {
      width: 480px;
      max-width: 92vw;
      background: #fff;
      border-radius: 14px;
      box-shadow: var(--shadow-soft);
      border: 1px solid var(--border-soft);
      padding: 18px 20px 12px;
      display: flex;
      flex-direction: column;
      max-height: 80vh;
    }
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    .modal-title {
      font-size: 16px;
      font-weight: 600;
    }
    .modal-body {
      flex: 1;
      overflow: auto;
      padding-right: 4px;
    }
    .modal-footer {
      margin-top: 10px;
      display: flex;
      justify-content: flex-end;
      gap: 8px;
    }

    .mode-list {
      font-size: 13px;
      list-style: none;
      padding-left: 0;
      margin: 6px 0 0;
    }
    .mode-list li {
      margin-bottom: 6px;
      border-radius: 8px;
      border: 1px solid var(--border-soft);
      padding: 6px 8px;
    }
    .mode-title {
      font-weight: 500;
    }
    .mode-desc {
      font-size: 11px;
      color: var(--text-sub);
    }

    .tag-danger {
      font-size: 11px;
      color: var(--danger);
      background: #fef2f2;
      border-radius: var(--radius-pill);
      padding: 2px 6px;
      margin-left: 6px;
    }

    @media (max-width: 960px) {
      .page {
        padding: 12px;
      }
      .toolbar {
        flex-direction: column;
        align-items: flex-start;
      }
      .col-resource {
        left: 0;
      }
      .col-template {
        left: 120px;
      }
      .drawer {
        width: 100%;
      }
    }
  </style>
</head>
<body>
<div class="page">
  <div class="page-header">
    <div>
      <div class="page-title">èµ„æºæ’ç­ä¸€è§ˆ</div>
      <div class="page-subtitle">ç‚¹å‡»æ¨¡æ¿å¯ç¼–è¾‘æ’ç­è®¡åˆ’ï¼Œç‚¹å‡»å•å…ƒæ ¼å¯ç¼–è¾‘å½“æ—¥æ’ç­æ˜ç»†</div>
    </div>
  </div>

  <!-- é¡¶éƒ¨å·¥å…·æ  -->
  <div class="toolbar">
    <div class="toolbar-left">
      <span class="field-label">æ—¥æœŸèŒƒå›´</span>
      <input class="input" type="date" value="2025-12-01" />
      <span>~</span>
      <input class="input" type="date" value="2025-12-07" />

      <button class="button button-soft">ä»Šå¤©</button>
      <button class="button button-soft">æœ¬å‘¨</button>
      <button class="button button-soft">æœ¬æœˆ</button>
      <button class="button button-soft">æœªæ¥30å¤©</button>
    </div>
    <div class="toolbar-right">
      <div class="segmented">
        <button class="active">ç­æ¬¡è§†å›¾</button>
        <button>æœ‰æ•ˆæ—¶é—´è§†å›¾</button>
      </div>
      <label class="switch">
        <div class="switch-track"><div class="switch-thumb"></div></div>
        æ˜¾ç¤ºå¯ç”¨ä¾‹å¤–
      </label>
    </div>
  </div>

  <div class="layout">
    <div class="card">
      <div class="schedule-table-wrapper">
        <table>
          <thead>
          <tr>
            <th class="col-resource">èµ„æº</th>
            <th class="col-template">é»˜è®¤æ’ç­æ¨¡æ¿</th>
            <th>2025-12-01<br><span class="text-muted">å‘¨ä¸€</span></th>
            <th>2025-12-02<br><span class="text-muted">å‘¨äºŒ</span></th>
            <th>2025-12-03<br><span class="text-muted">å‘¨ä¸‰</span></th>
            <th>2025-12-04<br><span class="text-muted">å‘¨å››</span></th>
            <th>2025-12-05<br><span class="text-muted">å‘¨äº”</span></th>
            <th>æ“ä½œ</th>
          </tr>
          </thead>
          <tbody>
          <!-- äº§çº¿A -->
          <tr>
            <td class="col-resource">
              <div class="resource-name">äº§çº¿ A</div>
              <div class="text-muted" style="font-size:11px;">ProductionLineA</div>
            </td>
            <td class="col-template">
              <div class="template-pill" data-open-plan="äº§çº¿ A">
                <span>ç™½ç­æ¨¡æ¿</span>
                <span style="font-size:11px;color:var(--text-sub);">08:00-12:00, 13:00-17:00</span>
              </div>
            </td>
            <td class="cell-schedule" data-open-detail="äº§çº¿ A|2025-12-01">
              <div>
                <span class="chip">ç™½ç­ 8h</span>
                <span class="chip chip-muted">åŠ ç­ 2h</span>
              </div>
              <div class="chip chip-exception">äº§å“ A ä¸å¯ç”¨ 24h</div>
              <div class="hint">ç‚¹å‡»ç¼–è¾‘</div>
            </td>
            <td class="cell-schedule" data-open-detail="äº§çº¿ A|2025-12-02">
              <div class="chip chip-muted">ä¼‘æ¯</div>
              <div class="hint">ç‚¹å‡»ç¼–è¾‘</div>
            </td>
            <td class="cell-schedule" data-open-detail="äº§çº¿ A|2025-12-03">
              <div class="chip chip-outline">æœªæ’ç­</div>
              <div class="hint">ç‚¹å‡»æ–°å»ºæ’ç­</div>
            </td>
            <td class="cell-schedule" data-open-detail="äº§çº¿ A|2025-12-04">
              <div class="chip">ç™½ç­ 8h</div>
              <div class="hint">ç‚¹å‡»ç¼–è¾‘</div>
            </td>
            <td class="cell-schedule" data-open-detail="äº§çº¿ A|2025-12-05">
              <div class="chip chip-outline">æœªæ’ç­</div>
              <div class="hint">ç‚¹å‡»æ–°å»ºæ’ç­</div>
            </td>
            <td class="row-actions">
              <button class="button button-soft" data-open-roll="äº§çº¿ A">æ»šåŠ¨æ’ç­</button>
            </td>
          </tr>

          <!-- äº§çº¿B -->
          <tr>
            <td class="col-resource">
              <div class="resource-name">äº§çº¿ B</div>
              <div class="text-muted" style="font-size:11px;">ProductionLineB</div>
            </td>
            <td class="col-template">
              <div class="template-pill" data-open-plan="äº§çº¿ B">
                <span>å¤œç­æ¨¡æ¿</span>
                <span style="font-size:11px;color:var(--text-sub);">20:00-24:00, 00:00-04:00</span>
              </div>
            </td>
            <td class="cell-schedule" data-open-detail="äº§çº¿ B|2025-12-01">
              <div class="chip">å¤œç­ 8h</div>
              <div class="hint">ç‚¹å‡»ç¼–è¾‘</div>
            </td>
            <td class="cell-schedule" data-open-detail="äº§çº¿ B|2025-12-02">
              <div class="chip chip-muted">åŠ ç­ 4h</div>
              <div class="hint">ç‚¹å‡»ç¼–è¾‘</div>
            </td>
            <td class="cell-schedule" data-open-detail="äº§çº¿ B|2025-12-03">
              <div class="chip chip-outline">æœªæ’ç­</div>
              <div class="hint">ç‚¹å‡»æ–°å»ºæ’ç­</div>
            </td>
            <td class="cell-schedule" data-open-detail="äº§çº¿ B|2025-12-04">
              <div class="chip">å¤œç­ 8h</div>
              <div class="chip chip-exception">äº§å“ C ä¸å¯ç”¨ 12h</div>
              <div class="hint">ç‚¹å‡»ç¼–è¾‘</div>
            </td>
            <td class="cell-schedule" data-open-detail="äº§çº¿ B|2025-12-05">
              <div class="chip chip-outline">æœªæ’ç­</div>
              <div class="hint">ç‚¹å‡»æ–°å»ºæ’ç­</div>
            </td>
            <td class="row-actions">
              <button class="button button-soft" data-open-roll="äº§çº¿ B">æ»šåŠ¨æ’ç­</button>
            </td>
          </tr>

          <!-- æ¨¡å…· X ç¤ºä¾‹ -->
          <tr>
            <td class="col-resource">
              <div class="resource-name">æ¨¡å…· X</div>
              <div class="text-muted" style="font-size:11px;">MoldX</div>
            </td>
            <td class="col-template">
              <div class="template-pill" data-open-plan="æ¨¡å…· X">
                <span>æ ‡å‡†æ¨¡æ¿</span>
                <span style="font-size:11px;color:var(--text-sub);">08:00-20:00</span>
              </div>
            </td>
            <td class="cell-schedule" data-open-detail="æ¨¡å…· X|2025-12-01">
              <div class="chip">æ ‡å‡† 12h</div>
              <div class="chip chip-exception">äº§å“ A ä¸å¯ç”¨ 24h</div>
              <div class="chip chip-exception">äº§å“ B ä¸å¯ç”¨ 12h</div>
              <div class="hint">ç‚¹å‡»æŸ¥çœ‹å¯ç”¨ä¾‹å¤–</div>
            </td>
            <td class="cell-schedule" data-open-detail="æ¨¡å…· X|2025-12-02">
              <div class="chip">æ ‡å‡† 12h</div>
              <div class="hint">ç‚¹å‡»ç¼–è¾‘</div>
            </td>
            <td class="cell-schedule" data-open-detail="æ¨¡å…· X|2025-12-03">
              <div class="chip chip-outline">æœªæ’ç­</div>
              <div class="hint">ç‚¹å‡»æ–°å»ºæ’ç­</div>
            </td>
            <td class="cell-schedule" data-open-detail="æ¨¡å…· X|2025-12-04">
              <div class="chip">æ ‡å‡† 12h</div>
              <div class="hint">ç‚¹å‡»ç¼–è¾‘</div>
            </td>
            <td class="cell-schedule" data-open-detail="æ¨¡å…· X|2025-12-05">
              <div class="chip">æ ‡å‡† 12h</div>
              <div class="hint">ç‚¹å‡»ç¼–è¾‘</div>
            </td>
            <td class="row-actions">
              <button class="button button-soft" data-open-roll="æ¨¡å…· X">æ»šåŠ¨æ’ç­</button>
            </td>
          </tr>

          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<!-- é®ç½© -->
<div class="overlay" id="overlay"></div>

<!-- æ’ç­æ˜ç»†ç¼–è¾‘æŠ½å±‰ -->
<div class="drawer" id="detailDrawer">
  <div class="drawer-header">
    <div class="drawer-title" id="detailTitle">ç¼–è¾‘æ’ç­ - äº§çº¿A - 2025-12-01</div>
    <button class="icon-btn" onclick="closeDetailDrawer()">âœ•</button>
  </div>
  <div class="drawer-body">
    <div class="form-grid">
      <div class="form-label">èµ„æº</div>
      <div class="form-control"><input class="input" value="äº§çº¿ A" disabled /></div>
      <div class="form-label">æ—¥æœŸ</div>
      <div class="form-control"><input class="input" value="2025-12-01" disabled /></div>
      <div class="form-label">å½“å‰æ¨¡æ¿</div>
      <div class="form-control">
        <select class="select">
          <option>ç™½ç­æ¨¡æ¿</option>
          <option>å¤œç­æ¨¡æ¿</option>
          <option>æ ‡å‡†æ¨¡æ¿</option>
        </select>
        <div class="text-muted" style="margin-top:4px;">
          åˆ‡æ¢æ¨¡æ¿å°†è¦†ç›–æ¨¡æ¿æ—¶é—´ç‰‡ï¼Œä¿ç•™æ‰‹åŠ¨æ–°å¢çš„æ—¶é—´ç‰‡ã€‚
        </div>
      </div>
    </div>

    <div class="section-title">æ’ç­æ—¶é—´ç‰‡</div>
    <div class="section-sub">
      æ”¯æŒè·¨å¤©ï¼Œä¾‹å¦‚ 2025-12-01 22:00 ~ 2025-12-02 06:00ã€‚
      <span class="tag-danger">ç¤ºä¾‹æ•°æ®ï¼Œä»…æ¼”ç¤ºç»“æ„</span>
    </div>
    <div class="time-slice-list">
      <div class="slice-row">
        <div>
          <div class="slice-name">ç™½ç­</div>
          <div class="slice-meta">ç±»å‹ï¼šnormal</div>
          <div class="slice-tag slice-tag-template">æ¨¡æ¿æ—¶é—´ç‰‡</div>
        </div>
        <div>
          <input class="input" type="datetime-local" value="2025-12-01T08:00" style="width:100%;" />
        </div>
        <div>
          <input class="input" type="datetime-local" value="2025-12-01T12:00" style="width:100%;" />
        </div>
        <div style="text-align:right;">
          <button class="icon-btn" title="åˆ é™¤">ğŸ—‘</button>
        </div>
      </div>

      <div class="slice-row">
        <div>
          <div class="slice-name">ä¼‘æ¯</div>
          <div class="slice-meta">ç±»å‹ï¼šleave</div>
          <div class="slice-tag">æ‰‹åŠ¨æ—¶é—´ç‰‡</div>
        </div>
        <div>
          <input class="input" type="datetime-local" value="2025-12-01T12:00" style="width:100%;" />
        </div>
        <div>
          <input class="input" type="datetime-local" value="2025-12-01T14:00" style="width:100%;" />
        </div>
        <div style="text-align:right;">
          <button class="icon-btn" title="åˆ é™¤">ğŸ—‘</button>
        </div>
      </div>

      <div class="slice-row">
        <div>
          <div class="slice-name">åŠ ç­</div>
          <div class="slice-meta">ç±»å‹ï¼šovertime</div>
          <div class="slice-tag">æ‰‹åŠ¨æ—¶é—´ç‰‡</div>
        </div>
        <div>
          <input class="input" type="datetime-local" value="2025-12-01T19:00" style="width:100%;" />
        </div>
        <div>
          <input class="input" type="datetime-local" value="2025-12-02T01:00" style="width:100%;" />
          <div class="slice-meta">è·¨å¤©</div>
        </div>
        <div style="text-align:right;">
          <button class="icon-btn" title="åˆ é™¤">ğŸ—‘</button>
        </div>
      </div>
    </div>
    <div style="margin-top:6px;">
      <button class="button button-soft">+ æ·»åŠ æ—¶é—´ç‰‡</button>
    </div>

    <div class="section-title" style="margin-top:16px;">å¯ç”¨ä¾‹å¤–ï¼ˆäº§å“ç»´åº¦ï¼‰</div>
    <div class="section-sub">
      ä¸å½±å“èµ„æºæœ¬èº«å¯ç”¨æ—¶é•¿ï¼Œåªç”¨äºé™åˆ¶ç‰¹å®šäº§å“åœ¨è¯¥æ—¶é—´æ®µå†…ä¸å¯ç”¨ã€‚
    </div>
    <div class="exception-list">
      <div class="exception-row">
        <div class="exception-product">äº§å“ A</div>
        <div>
          <div class="exception-time">2025-12-01 00:00 ~ 2025-12-02 00:00</div>
        </div>
        <div style="text-align:right;">
          <button class="icon-btn" title="åˆ é™¤">ğŸ—‘</button>
        </div>
      </div>
      <div class="exception-row">
        <div class="exception-product">äº§å“ B</div>
        <div>
          <div class="exception-time">2025-12-01 08:00 ~ 2025-12-01 20:00</div>
        </div>
        <div style="text-align:right;">
          <button class="icon-btn" title="åˆ é™¤">ğŸ—‘</button>
        </div>
      </div>
    </div>
    <div style="margin-top:6px;">
      <button class="button button-soft">+ æ·»åŠ å¯ç”¨ä¾‹å¤–</button>
    </div>
  </div>
  <div class="drawer-footer">
    <button class="button button-soft" onclick="closeDetailDrawer()">å–æ¶ˆ</button>
    <button class="button button-primary">ä¿å­˜</button>
  </div>
</div>

<!-- æ’ç­è®¡åˆ’ç¼–è¾‘ Modal -->
<div class="modal" id="planModal">
  <div class="modal-card">
    <div class="modal-header">
      <div class="modal-title" id="planTitle">ç¼–è¾‘æ’ç­è®¡åˆ’ - äº§çº¿ A</div>
      <button class="icon-btn" onclick="closePlanModal()">âœ•</button>
    </div>
    <div class="modal-body">
      <div class="form-grid">
        <div class="form-label">èµ„æº</div>
        <div class="form-control"><input class="input" value="äº§çº¿ A" disabled /></div>

        <div class="form-label">é»˜è®¤æ¨¡æ¿</div>
        <div class="form-control">
          <select class="select">
            <option>ç™½ç­æ¨¡æ¿ï¼ˆ08:00-12:00, 13:00-17:00ï¼‰</option>
            <option>å¤œç­æ¨¡æ¿ï¼ˆ20:00-24:00, 00:00-04:00ï¼‰</option>
            <option>æ ‡å‡†æ¨¡æ¿ï¼ˆ08:00-20:00ï¼‰</option>
          </select>
        </div>

        <div class="form-label">æ»šåŠ¨æ’ç­</div>
        <div class="form-control">
          <label class="switch on">
            <div class="switch-track"><div class="switch-thumb"></div></div>
            å·²å¼€å¯
          </label>
          <div class="text-muted" style="margin-top:4px;">
            å¼€å¯åç³»ç»Ÿå°†è‡ªåŠ¨ä¸ºè¯¥èµ„æºç”Ÿæˆæœªæ¥è‹¥å¹²å¤©çš„æ’ç­ã€‚
          </div>
        </div>

        <div class="form-label">æ­¥é•¿ï¼ˆå¤©ï¼‰</div>
        <div class="form-control">
          <input class="input" type="number" value="30" />
          <div class="text-muted" style="margin-top:4px;">
            æ¯æ¬¡æ»šåŠ¨æ—¶å‘åç”Ÿæˆçš„å¤©æ•°ï¼Œä¾‹å¦‚ 30 å¤©ã€‚
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="button button-soft" onclick="closePlanModal()">å–æ¶ˆ</button>
      <button class="button button-primary">ä¿å­˜</button>
    </div>
  </div>
</div>

<!-- æ»šåŠ¨æ’ç­ Modal -->
<div class="modal" id="rollModal">
  <div class="modal-card">
    <div class="modal-header">
      <div class="modal-title" id="rollTitle">æ»šåŠ¨æ’ç­ - äº§çº¿ A</div>
      <button class="icon-btn" onclick="closeRollModal()">âœ•</button>
    </div>
    <div class="modal-body">
      <div class="form-grid">
        <div class="form-label">æ—¥æœŸèŒƒå›´</div>
        <div class="form-control">
          <input class="input" type="date" value="2025-12-01" />
          <span style="margin:0 4px;">~</span>
          <input class="input" type="date" value="2026-01-01" />
        </div>

        <div class="form-label">æ’ç­æ¨¡å¼</div>
        <div class="form-control">
          <ul class="mode-list">
            <li>
              <label>
                <input type="radio" name="rollMode" checked />
                <span class="mode-title">ä»…å¡«ç©ºç™½æ—¥æœŸ</span>
              </label>
              <div class="mode-desc">
                åªä¸ºå½“å‰æ²¡æœ‰ä»»ä½•æ’ç­æ˜ç»†çš„æ—¥æœŸç”Ÿæˆæ’ç­ï¼Œä¸ä¿®æ”¹å·²æœ‰æ˜ç»†ã€‚
              </div>
            </li>
            <li>
              <label>
                <input type="radio" name="rollMode" />
                <span class="mode-title">è¦†ç›–æ¨¡æ¿æ—¶é—´ç‰‡</span>
              </label>
              <div class="mode-desc">
                ä»…åˆ é™¤åŸç”±æ¨¡æ¿ç”Ÿæˆçš„æ—¶é—´ç‰‡ï¼Œä¿ç•™æ‰‹åŠ¨æ—¶é—´ç‰‡ï¼Œç„¶åæŒ‰é»˜è®¤æ¨¡æ¿é‡æ–°ç”Ÿæˆã€‚
              </div>
            </li>
            <li>
              <label>
                <input type="radio" name="rollMode" />
                <span class="mode-title">å…¨éƒ¨è¦†ç›–</span>
              </label>
              <div class="mode-desc">
                åˆ é™¤æ‰€é€‰æ—¥æœŸèŒƒå›´å†…çš„æ‰€æœ‰æ—¶é—´ç‰‡ï¼ˆåŒ…æ‹¬æ‰‹åŠ¨ï¼‰ï¼Œå®Œå…¨æŒ‰é»˜è®¤æ¨¡æ¿é‡å»ºã€‚
              </div>
            </li>
          </ul>
        </div>

        <div class="form-label">æç¤º</div>
        <div class="form-control">
          <label style="font-size:12px;color:var(--text-sub);">
            <input type="checkbox" checked />
            è‹¥æ—¥æœŸåŒ…å«å·²ç»´æŠ¤å¯ç”¨ä¾‹å¤–ï¼Œæ‰§è¡Œååœ¨ç»“æœæ—¥å¿—ä¸­æé†’æˆ‘ã€‚
          </label>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="button button-soft" onclick="closeRollModal()">å–æ¶ˆ</button>
      <button class="button button-primary">æ‰§è¡Œæ»šåŠ¨æ’ç­</button>
    </div>
  </div>
</div>

<script>
  const overlay = document.getElementById('overlay');
  const detailDrawer = document.getElementById('detailDrawer');
  const detailTitle = document.getElementById('detailTitle');
  const planModal = document.getElementById('planModal');
  const planTitle = document.getElementById('planTitle');
  const rollModal = document.getElementById('rollModal');
  const rollTitle = document.getElementById('rollTitle');

  function openOverlay() {
    overlay.classList.add('show');
  }
  function closeOverlay() {
    overlay.classList.remove('show');
  }

  function openDetailDrawer(text) {
    detailTitle.textContent = 'ç¼–è¾‘æ’ç­ - ' + text;
    detailDrawer.classList.add('show');
    openOverlay();
  }
  function closeDetailDrawer() {
    detailDrawer.classList.remove('show');
    closeOverlay();
  }

  function openPlanModal(resource) {
    planTitle.textContent = 'ç¼–è¾‘æ’ç­è®¡åˆ’ - ' + resource;
    planModal.classList.add('show');
    openOverlay();
  }
  function closePlanModal() {
    planModal.classList.remove('show');
    closeOverlay();
  }

  function openRollModal(resource) {
    rollTitle.textContent = 'æ»šåŠ¨æ’ç­ - ' + resource;
    rollModal.classList.add('show');
    openOverlay();
  }
  function closeRollModal() {
    rollModal.classList.remove('show');
    closeOverlay();
  }

  // ç»‘å®šå•å…ƒæ ¼ç‚¹å‡»äº‹ä»¶
  document.querySelectorAll('[data-open-detail]').forEach(el => {
    el.addEventListener('click', () => {
      openDetailDrawer(el.getAttribute('data-open-detail'));
    });
  });
  document.querySelectorAll('[data-open-plan]').forEach(el => {
    el.addEventListener('click', e => {
      e.stopPropagation();
      openPlanModal(el.getAttribute('data-open-plan'));
    });
  });
  document.querySelectorAll('[data-open-roll]').forEach(el => {
    el.addEventListener('click', e => {
      e.stopPropagation();
      openRollModal(el.getAttribute('data-open-roll'));
    });
  });

  // ç‚¹å‡»é®ç½©å…³é—­æ‰€æœ‰å¼¹å±‚
  overlay.addEventListener('click', () => {
    closeDetailDrawer();
    closePlanModal();
    closeRollModal();
  });
</script>
</body>
</html>
